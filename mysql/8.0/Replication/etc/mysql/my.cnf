[mysql]
## 设置mysql客户端默认字符集
default-character-set=utf8mb4

[mysqld]
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
datadir         = /var/lib/mysql

## 设置3306端口
port           = 3306

## 重置密码时开启
# skip-grant-tables

skip-name-resolve
skip-external-locking

# 禁用符号链接以防止各种安全风险
skip-symbolic-links

host_cache_size=0

## 允许最大连接数
max_connections=4000

## 服务端使用的字符集默认为8比特编码的latin1字符集
character-set-server=utf8mb4

## 创建新表时将使用的默认存储引擎
default-storage-engine=INNODB

## 表名存储在磁盘空间是小写，但比较时不区分大小写
lower_case_table_names=1

## MySQL会根据配置文件会限制server接受的数据包的大小。
max_allowed_packet=64M

open_files_limit = 65535
sql_mode ="STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION"

## binlog 配置
log_bin = mysql_bin
## - 设置日志格式，三种：STATEMENT, ROW, MIXED
binlog_format = MIXED
## - 保留时长 7*24*60*60
binlog_expire_logs_seconds=604800
## - 设置文件大小限制
max_binlog_size = 300m
## - 缓存大小
binlog_cache_size = 4m
## - 最大缓存大小
max_binlog_cache_size = 512m

## 针对非交互式连接
wait_timeout=2147483 

## 针对交互式连接
interactive_timeout=2147483

## *服务编号*
#server-id = 1

## https://www.cnblogs.com/kevingrace/p/10095332.html
#read_only=1

## 从库只开启log-bin功能，不添加log_replica_updates参数，从库从主库复制的数据不会写入log-bin日志文件里。
log_replica_updates=1

## 默认使用“mysql_native_password”插件认证
authentication_policy=mysql_native_password

# 设置时区
default-time_zone='+8:00'
